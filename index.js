(function(h,w,l,f,s,d,b,y,O){"use strict";const{AlertModal:U,AlertActionButton:B}=f.findByProps("AlertModal","AlertActions"),M=B;function k(e){return React.createElement(U,e)}const{Stack:E,TextInput:N,ScrollView:z}=y.Forms,{Button:I}=y.General;function C(e){let{initialValue:o="",onConfirm:t,title:r}=e;const[n,a]=s.React.useState(o),[i,c]=s.React.useState(""),[T,x]=s.React.useState(!1),q=function(g){return/^\d+$/.test(g)};function $(){if(!q(n)){c("Please enter a valid Discord User ID (numbers only)");return}x(!0),t(n),x(!1)}return s.React.createElement(k,{title:r,content:"Enter the Discord User ID:",extraContent:s.React.createElement(E,{style:{marginTop:-12}},s.React.createElement(N,{autoFocus:!0,isClearable:!0,value:n,onChange:function(g){a(g),i&&c("")},returnKeyType:"done",onSubmitEditing:$,state:i?"error":void 0,errorMessage:i||void 0,keyboardType:"numeric"}),s.React.createElement(z,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8}},s.React.createElement(I,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:b.getAssetIDByName("ic_clipboard"),onPress:function(){return s.clipboard.getString().then(function(g){return a(g)})}}))),actions:s.React.createElement(E,null,s.React.createElement(I,{loading:T,text:"Confirm",variant:"primary",disabled:!n,onPress:$}),s.React.createElement(M,{disabled:T,text:"Cancel",variant:"secondary"}))})}const{openLazy:F,hideActionSheet:J}=f.findByProps("openLazy","hideActionSheet");function S(e,o){try{F(new Promise(function(t){return t({default:e})}),"ActionSheet",o)}catch(t){w.logger.error(t.stack),O.showToast("Got error when opening ActionSheet! Please check debug logs")}}const p={toInt(e){return e=e.replace(/^#/,""),parseInt(e,16)},toHex(e){return"#"+e.toString(16).toUpperCase()},HSLtoHEX(e,o,t){t/=100;const r=o*Math.min(t,1-t)/100,n=function(a){const i=(a+e/30)%12,c=t-r*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*c).toString(16).padStart(2,"0")};return`#${n(0)}${n(8)}${n(4)}`}},m=new Set(["arguments","caller","prototype"]),G=function(e){return typeof e=="string"&&m.has(e)},H=new WeakMap,u=new WeakMap,L={...Object.fromEntries(Object.getOwnPropertyNames(Reflect).map(function(e){return[e,function(o){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const a=u.get(o)?.factory();if(!a)throw new Error(`Trying to Reflect.${e} of ${typeof a}`);return Reflect[e](a,...r)}]})),has(e,o){const t=u.get(e);if(t?.options){const{exemptedEntries:n}=t.options;if(n&&o in n)return!0}const r=t?.factory();if(!r)throw new Error(`Trying to Reflect.has of ${typeof r}`);return Reflect.has(r,o)},get(e,o,t){const r=u.get(e);if(r?.options){const{exemptedEntries:a}=r.options;if(a?.[o])return a[o]}const n=r?.factory();if(!n)throw new Error(`Trying to Reflect.get of ${typeof n}`);return Reflect.get(n,o,t)},ownKeys:function(e){const o=u.get(e)?.factory();if(!o)throw new Error(`Trying to Reflect.ownKeys of ${typeof o}`);const t=Reflect.ownKeys(o);return m.forEach(function(r){return!t.includes(r)&&t.push(r)}),t},getOwnPropertyDescriptor:function(e,o){const t=u.get(e)?.factory();if(!t)throw new Error(`Trying to getOwnPropertyDescriptor of ${typeof t}`);if(G(o))return Reflect.getOwnPropertyDescriptor(e,o);const r=Reflect.getOwnPropertyDescriptor(t,o);return r&&Object.defineProperty(e,o,r),r}};function R(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t;const r=o.hint!=="object"?function(){}:{},n=function(){return t??=e()},a=new Proxy(r,L);return H.set(a,n),u.set(r,{factory:e,options:o}),a}function j(e){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=R(e);return new Proxy({},{get(r,n){return n===Symbol.iterator?function*(){throw yield t,yield new Proxy({},{get:function(a,i){return R(function(){return t[i]},o)}}),new Error("This is not a real iterator, this is likely used incorrectly")}:R(function(){return t[n]},o)}})}const{FormText:Q,FormInput:Z,FormRow:K}=y.Forms,{Button:ee,View:_,TouchableOpacity:V,Image:W}=y.General;f.findByProps("pushModal","popModal");const{openAlert:A,dismissAlert:P}=j(function(){return f.findByProps("openAlert","dismissAlert")}),D=f.findByName("CustomColorPickerActionSheet");function Y(){const e=l.storage.colors?.entries||[],o=function(r,n){A({key:"edit-userid-modal",content:s.React.createElement(C,{title:"Edit User ID",initialValue:r.userId,onConfirm:function(a){const i=[...e];i[n]={...r,userId:a},l.storage.colors={entries:i},d.toasts.showToast("User ID updated!"),P("edit-userid-modal")}})})},t=function(){A("UserIDInputAlert",s.React.createElement(C,{title:"User ID",onConfirm:function(r){P("UserIDInputAlert"),S(D,{color:p.toInt("#000000"),title:"Select Color",onSelect:function(n){const a=p.toHex(n),i=e||[];i.push({userId:r,color:a}),l.storage.colors={entries:i},d.toasts.showToast("Color entry added!")}})}}))};return s.React.createElement(s.React.Fragment,null,e.map(function(r,n){return s.React.createElement(K,{key:n,label:`User ID: ${r.userId}`,subLabel:"Tap to change color",onPress:function(){S(D,{color:p.toInt(r.color),title:"Select Color",onSelect:function(a){const i=p.toHex(a),c=[...e];c[n]={...r,color:i},l.storage.colors={entries:c},d.toasts.showToast("Color updated!")}})},onLongPress:function(){return o(r,n)},trailing:s.React.createElement(_,{style:{width:24,height:24,borderRadius:12,backgroundColor:r.color,borderWidth:1,borderColor:d.semanticColors.BACKGROUND_SECONDARY}})})}),s.React.createElement(V,{style:v.fab,onPress:t},s.React.createElement(W,{source:b.getAssetIDByName("ic_add_24px"),style:v.fabIcon})))}const v=s.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:d.semanticColors.BACKGROUND_SECONDARY,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:"white"}});var X={onLoad:function(){l.storage.colors=l.storage.colors??{entries:[]},w.logger.log("Hello world!")},onUnload:function(){w.logger.log("Goodbye, world.")},settings:Y};return h.default=X,Object.defineProperty(h,"__esModule",{value:!0}),h})({},vendetta,vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts);
