var plugin=function(f,d,r,g,c,h,S,v,x){"use strict";var{Stack:b,TextInput:P,ScrollView:T}=v.Forms,{Button:I}=v.General;function y({initialValue:t="",onConfirm:l,title:s}){var[e,o]=c.React.useState(t),[n,a]=c.React.useState(""),[i,D]=c.React.useState(!1),L=u=>/^\d+$/.test(u);function m(){if(!L(e)){a("Please enter a valid Discord User ID (numbers only)");return}D(!0),l(e),D(!1)}var M=g.findByDisplayName("FluxContainer(Alert)");return r.jsxs(M,{children:["extraContent=",r.jsxs(b,{style:{marginTop:-12},children:[r.jsx(P,{autoFocus:!0,isClearable:!0,value:e,onChange:u=>{o(u),n&&a("")},returnKeyType:"done",onSubmitEditing:m,state:n?"error":void 0,errorMessage:n||void 0,keyboardType:"numeric"}),r.jsx(T,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:r.jsx(I,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:S.getAssetIDByName("ic_clipboard"),onPress:()=>c.clipboard.getString().then(u=>o(u))})})]}),"actions=",r.jsxs(b,{children:[r.jsx(I,{loading:i,text:"Confirm",variant:"primary",disabled:!e,onPress:m}),r.jsx(I,{disabled:i,text:"Cancel",variant:"secondary"})]})]})}var{openLazy:B,hideActionSheet:G}=g.findByProps("openLazy","hideActionSheet");function p(t,l){try{B(new Promise(s=>s({default:t})),"ActionSheet",l)}catch(s){f.logger.error(s.stack),x.showToast("Got error when opening ActionSheet! Please check debug logs")}}var C={toInt(t){return t=t.replace(/^#/,""),parseInt(t,16)},toHex(t){var l=t.toString(16).toUpperCase();return"#"+l},HSLtoHEX(t,l,s){s/=100;var e=l*Math.min(s,1-s)/100,o=n=>{var a=(n+t/30)%12,i=s-e*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`}},{FormText:$,FormInput:z,FormRow:U}=v.Forms,{Button:O,View:E,TouchableOpacity:F,Image:k}=v.General;g.findByProps("pushModal","popModal");var w=g.findByName("CustomColorPickerActionSheet");function N(){var t=d.storage.colors?.entries||[],l=(e,o)=>{p("edit-userid-modal",r.jsx(y,{title:"Edit User ID",initialValue:e.userId,onConfirm:n=>{var a=[...t];a[o]={...e,userId:n},d.storage.colors={entries:a},h.toasts.showToast("User ID updated!")}}))},s=()=>{p("UserIDInputAlert",r.jsx(y,{title:"User ID",onConfirm:e=>{p(w,{color:C.toInt("#000000"),title:"Select Color",onSelect:o=>{var n=C.toHex(o),a=t||[];a.push({userId:e,color:n}),d.storage.colors={entries:a},h.toasts.showToast("Color entry added!")}})}}))};return r.jsxs(r.Fragment,{children:[t.map((e,o)=>r.jsx(U,{label:`User ID: ${e.userId}`,subLabel:"Tap to change color",onPress:()=>{p(w,{color:C.toInt(e.color),title:"Select Color",onSelect:n=>{var a=C.toHex(n),i=[...t];i[o]={...e,color:a},d.storage.colors={entries:i},h.toasts.showToast("Color updated!")}})},onLongPress:()=>l(e,o),trailing:r.jsx(E,{style:{width:24,height:24,borderRadius:12,backgroundColor:e.color,borderWidth:1,borderColor:h.semanticColors.BACKGROUND_SECONDARY}})},o)),r.jsx(F,{style:A.fab,onPress:s,children:r.jsx(k,{source:S.getAssetIDByName("ic_add_24px"),style:A.fabIcon})})]})}var A=c.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:h.semanticColors.BACKGROUND_SECONDARY,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:"white"}}),H={onLoad:()=>{d.storage.colors=d.storage.colors??{entries:[]},f.logger.log("Hello world!")},onUnload:()=>{f.logger.log("Goodbye, world.")},settings:N};return H}(vendetta,vendetta.plugin,jsxRuntime,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts);
