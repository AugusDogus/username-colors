(function(g,C,a,h,o,c,m,p,T){"use strict";const{openLazy:v,hideActionSheet:O}=h.findByProps("openLazy","hideActionSheet");function S(e,l){try{v(new Promise(function(r){return r({default:e})}),"ActionSheet",l)}catch(r){C.logger.error(r.stack),T.showToast("Got error when opening ActionSheet! Please check debug logs")}}const d={toInt(e){return e=e.replace(/^#/,""),parseInt(e,16)},toHex(e){return"#"+e.toString(16).toUpperCase()},HSLtoHEX(e,l,r){r/=100;const y=l*Math.min(r,1-r)/100,u=function(t){const n=(t+e/30)%12,s=r-y*Math.max(Math.min(n-3,9-n,1),-1);return Math.round(255*s).toString(16).padStart(2,"0")};return`#${u(0)}${u(8)}${u(4)}`}},{FormText:k,FormSection:D,FormInput:E,FormRow:I}=p.Forms,{Button:F,View:R,TouchableOpacity:A,Image:P}=p.General;h.findByProps("show","confirm","close");const{showActionSheet:U}=h.findByProps("showActionSheet"),b=h.findByName("CustomColorPickerActionSheet");function B(){const e=a.storage.colors?.entries||[],[l,r]=o.React.useState(""),y=function(t,n){U({title:`User ID: ${t.userId}`,options:[{label:"Modify Color",onPress:function(){S(b,{color:d.toInt(t.color),title:"Select Color",onSelect:function(s){const f=d.toHex(s),i=[...e];i[n]={...t,color:f},a.storage.colors={entries:i},c.toasts.showToast("Color updated!")}})}},{label:"Delete",isDestructive:!0,onPress:function(){const s=e.filter(function(f,i){return i!==n});a.storage.colors={entries:s},c.toasts.showToast("Color entry removed!")}},{label:"Cancel"}]})},u=function(){S(b,{color:d.toInt("#000000"),title:"Select Color",onSelect:function(t){if(!l){c.toasts.showToast("Please enter a valid User ID");return}const n=d.toHex(t),s=a.storage.colors?.entries||[];s.push({userId:l,color:n}),a.storage.colors={entries:s},r(""),c.toasts.showToast("Color entry added!")},header:o.React.createElement(R,{style:{padding:16,paddingBottom:0}},o.React.createElement(E,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:l,onChange:function(t){return r(t)}}))})};return o.React.createElement(o.React.Fragment,null,o.React.createElement(D,{title:"Custom Colors"},e.map(function(t,n){return o.React.createElement(I,{key:n,label:`User ID: ${t.userId}`,subLabel:"Tap to change color",onPress:function(){S(b,{color:d.toInt(t.color),title:"Select Color",onSelect:function(s){const f=d.toHex(s),i=[...e];i[n]={...t,color:f},a.storage.colors={entries:i},c.toasts.showToast("Color updated!")}})},onLongPress:function(){return y(t,n)},trailing:o.React.createElement(R,{style:{width:24,height:24,borderRadius:12,backgroundColor:t.color,borderWidth:1,borderColor:c.semanticColors.BACKGROUND_SECONDARY}})})}),e.length===0&&o.React.createElement(I,{label:"No Colors Set",subLabel:"Use the + button to add a custom color"})),o.React.createElement(A,{style:w.fab,onPress:u},o.React.createElement(P,{source:m.getAssetIDByName("ic_add_24px"),style:w.fabIcon})))}const w=o.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:c.semanticColors.BUTTON_SECONDARY_BACKGROUND,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:c.semanticColors.BUTTON_SECONDARY_TEXT}});var N={onLoad:function(){a.storage.colors=a.storage.colors??{entries:[]},C.logger.log("Hello world!")},onUnload:function(){C.logger.log("Goodbye, world.")},settings:B};return g.default=N,Object.defineProperty(g,"__esModule",{value:!0}),g})({},vendetta,vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.ui.toasts);
