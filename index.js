var plugin=function(y,d,t,B,h,g,c,C,v,T,I,E){"use strict";var{Stack:b,TextInput:k,ScrollView:F}=v.Forms,{Button:f}=v.General;function S({initialValue:r="",onConfirm:l,title:s}){var[e,o]=g.React.useState(r),[n,a]=g.React.useState(""),[i,U]=g.React.useState(!1),O=u=>/^\d+$/.test(u);function x(){if(!O(e)){a("Please enter a valid Discord User ID (numbers only)");return}U(!0),l(e),U(!1)}return t.jsx(I.AlertModal,{title:s,content:"Enter the Discord User ID:",extraContent:t.jsxs(b,{style:{marginTop:-12},children:[t.jsx(k,{autoFocus:!0,isClearable:!0,value:e,onChange:u=>{o(u),n&&a("")},returnKeyType:"done",onSubmitEditing:x,state:n?"error":void 0,errorMessage:n||void 0,keyboardType:"numeric"}),t.jsx(F,{horizontal:!0,showsHorizontalScrollIndicator:!1,style:{gap:8},children:t.jsx(f,{size:"sm",variant:"tertiary",text:"Import from clipboard",icon:C.getAssetIDByName("ic_clipboard"),onPress:()=>T.clipboard.getString().then(u=>o(u))})})]}),actions:t.jsxs(b,{children:[t.jsx(f,{loading:i,text:"Confirm",variant:"primary",disabled:!e,onPress:x}),t.jsx(I.AlertActionButton,{disabled:i,text:"Cancel",variant:"secondary"})]})})}var{openLazy:M,hideActionSheet:V}=h.findByProps("openLazy","hideActionSheet");function A(r,l){try{M(new Promise(s=>s({default:r})),"ActionSheet",l)}catch(s){y.logger.error(s.stack),E.showToast("Got error when opening ActionSheet! Please check debug logs")}}var p={toInt(r){return r=r.replace(/^#/,""),parseInt(r,16)},toHex(r){var l=r.toString(16).toUpperCase();return"#"+l},HSLtoHEX(r,l,s){s/=100;var e=l*Math.min(s,1-s)/100,o=n=>{var a=(n+r/30)%12,i=s-e*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return`#${o(0)}${o(8)}${o(4)}`}},{FormText:K,FormInput:_,FormRow:N}=v.Forms,{Button:j,View:z,TouchableOpacity:H,Image:L}=v.General;h.findByProps("pushModal","popModal");var{openAlert:m,dismissAlert:D}=B.lazyDestructure(()=>h.findByProps("openAlert","dismissAlert")),w=h.findByName("CustomColorPickerActionSheet");function G(){var r=d.storage.colors?.entries||[],l=(e,o)=>{m({key:"edit-userid-modal",content:t.jsx(S,{title:"Edit User ID",initialValue:e.userId,onConfirm:n=>{var a=[...r];a[o]={...e,userId:n},d.storage.colors={entries:a},c.toasts.showToast("User ID updated!"),D("edit-userid-modal")}})})},s=()=>{m("UserIDInputAlert",t.jsx(S,{title:"User ID",onConfirm:e=>{D("UserIDInputAlert"),A(w,{color:p.toInt("#000000"),title:"Select Color",onSelect:o=>{var n=p.toHex(o),a=r||[];a.push({userId:e,color:n}),d.storage.colors={entries:a},c.toasts.showToast("Color entry added!")}})}}))};return t.jsxs(t.Fragment,{children:[r.map((e,o)=>t.jsx(N,{label:`User ID: ${e.userId}`,subLabel:"Tap to change color",onPress:()=>{A(w,{color:p.toInt(e.color),title:"Select Color",onSelect:n=>{var a=p.toHex(n),i=[...r];i[o]={...e,color:a},d.storage.colors={entries:i},c.toasts.showToast("Color updated!")}})},onLongPress:()=>l(e,o),trailing:t.jsx(z,{style:{width:24,height:24,borderRadius:12,backgroundColor:e.color,borderWidth:1,borderColor:c.semanticColors.BACKGROUND_SECONDARY}})},o)),t.jsx(H,{style:P.fab,onPress:s,children:t.jsx(L,{source:C.getAssetIDByName("ic_add_24px"),style:P.fabIcon})})]})}var P=g.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:c.semanticColors.BACKGROUND_SECONDARY,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:"white"}}),$={onLoad:()=>{d.storage.colors=d.storage.colors??{entries:[]},y.logger.log("Hello world!")},onUnload:()=>{y.logger.log("Goodbye, world.")},settings:G};return $}(vendetta,vendetta.plugin,jsxRuntime,bunny.utils.lazy,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,bunny.metro.common,bunny.ui.components.wrappers,vendetta.ui.toasts);
