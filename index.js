(function(y,p,d,l,t,i,U,E,N,k){"use strict";const{showSimpleActionSheet:A}=l.findByProps("showSimpleActionSheet"),b=l.findByProps("getRenderCloseButton")?.getRenderCloseButton??l.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,w=l.findByName("Navigator")??l.findByProps("Navigator")?.Navigator,{popModal:I,pushModal:v}=l.findByProps("popModal","pushModal");function D(e){return!w||!b?null:React.createElement(w,{initialRouteName:e.mkey,screens:{[e.mkey]:Object.assign(N.without(e,"mkey","children"),{headerLeft:b?.(function(){return I(e.mkey)}),render:function(){return e.children}})}})}const{openLazy:T,hideActionSheet:G}=l.findByProps("openLazy","hideActionSheet");function C(e,a){try{T(new Promise(function(n){return n({default:e})}),"ActionSheet",a)}catch(n){p.logger.error(n.stack),k.showToast("Got error when opening ActionSheet! Please check debug logs")}}const f={toInt(e){return e=e.replace(/^#/,""),parseInt(e,16)},toHex(e){return"#"+e.toString(16).toUpperCase()},HSLtoHEX(e,a,n){n/=100;const c=a*Math.min(n,1-n)/100,s=function(o){const r=(o+e/30)%12,u=n-c*Math.max(Math.min(r-3,9-r,1),-1);return Math.round(255*u).toString(16).padStart(2,"0")};return`#${s(0)}${s(8)}${s(4)}`}},{FormText:j,FormSection:_,FormInput:m,FormRow:M}=E.Forms,{Button:B,View:R,TouchableOpacity:x,Image:H}=E.General;l.findByProps("show","confirm","close");const S=l.findByName("CustomColorPickerActionSheet"),O=function(e){let{entry:a,index:n,colorEntries:c}=e;const[s,o]=t.React.useState(a.userId);return t.React.createElement(D,{mkey:"edit-userid-modal",title:"Edit User ID"},t.React.createElement(R,{style:{padding:16}},t.React.createElement(m,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:s,onChange:o,style:{marginBottom:16}}),t.React.createElement(B,{title:"Save",onPress:function(){if(!s){i.toasts.showToast("Please enter a valid User ID");return}const r=[...c];r[n]={...a,userId:s},d.storage.colors={entries:r},i.toasts.showToast("User ID updated!"),I("edit-userid-modal")}})))},L=function(e){let{colorEntries:a,setInputUserId:n,inputUserId:c}=e;return t.React.createElement(D,{mkey:"add-entry-modal",title:"Add New Entry"},t.React.createElement(R,{style:{padding:16}},t.React.createElement(m,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:c,onChange:function(s){return n(s)},style:{marginBottom:16}}),t.React.createElement(B,{title:"Next",onPress:function(){if(!c){i.toasts.showToast("Please enter a valid User ID");return}I("add-entry-modal"),C(S,{color:f.toInt("#000000"),title:"Select Color",onSelect:function(s){const o=f.toHex(s),r=a||[];r.push({userId:c,color:o}),d.storage.colors={entries:r},n(""),i.toasts.showToast("Color entry added!")}})}})))};function F(){const e=d.storage.colors?.entries||[],[a,n]=t.React.useState(""),c=function(o,r){A({key:"CardOverflow",header:{title:`User ID: ${o.userId}`},options:[{label:"Modify User ID",onPress:function(){v("edit-userid-modal",{render:function(){return t.React.createElement(O,{entry:o,index:r,colorEntries:e})}})}},{label:"Modify Color",onPress:function(){C(S,{color:f.toInt(o.color),title:"Select Color",onSelect:function(u){const g=f.toHex(u),h=[...e];h[r]={...o,color:g},d.storage.colors={entries:h},i.toasts.showToast("Color updated!")}})}},{label:"Delete",isDestructive:!0,onPress:function(){const u=e.filter(function(g,h){return h!==r});d.storage.colors={entries:u},i.toasts.showToast("Color entry removed!")}},{label:"Cancel"}]})},s=function(){v("add-entry-modal",{render:function(){return t.React.createElement(L,{colorEntries:e,inputUserId:a,setInputUserId:n})}})};return t.React.createElement(t.React.Fragment,null,e.map(function(o,r){return t.React.createElement(M,{key:r,label:`User ID: ${o.userId}`,subLabel:"Tap to change color",onPress:function(){C(S,{color:f.toInt(o.color),title:"Select Color",onSelect:function(u){const g=f.toHex(u),h=[...e];h[r]={...o,color:g},d.storage.colors={entries:h},i.toasts.showToast("Color updated!")}})},onLongPress:function(){return c(o,r)},trailing:t.React.createElement(R,{style:{width:24,height:24,borderRadius:12,backgroundColor:o.color,borderWidth:1,borderColor:i.semanticColors.BACKGROUND_SECONDARY}})})}),t.React.createElement(x,{style:P.fab,onPress:s},t.React.createElement(H,{source:U.getAssetIDByName("ic_add_24px"),style:P.fabIcon})))}const P=t.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:i.semanticColors.BACKGROUND_SECONDARY,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:"white"}});var $={onLoad:function(){d.storage.colors=d.storage.colors??{entries:[]},p.logger.log("Hello world!")},onUnload:function(){p.logger.log("Goodbye, world.")},settings:F};return y.default=$,Object.defineProperty(y,"__esModule",{value:!0}),y})({},vendetta,vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.utils,vendetta.ui.toasts);
