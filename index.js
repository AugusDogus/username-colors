(function(y,p,l,i,o,c,m,R,B,P){"use strict";const{showSimpleActionSheet:k}=i.findByProps("showSimpleActionSheet"),b=i.findByProps("getRenderCloseButton")?.getRenderCloseButton??i.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,v=i.findByName("Navigator")??i.findByProps("Navigator")?.Navigator,{popModal:w,pushModal:A}=i.findByProps("popModal","pushModal");function N(e){return!v||!b?null:React.createElement(v,{initialRouteName:e.mkey,screens:{[e.mkey]:Object.assign(B.without(e,"mkey","children"),{headerLeft:b?.(function(){return w(e.mkey)}),render:function(){return e.children}})}})}const{openLazy:U,hideActionSheet:$}=i.findByProps("openLazy","hideActionSheet");function C(e,s){try{U(new Promise(function(n){return n({default:e})}),"ActionSheet",s)}catch(n){p.logger.error(n.stack),P.showToast("Got error when opening ActionSheet! Please check debug logs")}}const h={toInt(e){return e=e.replace(/^#/,""),parseInt(e,16)},toHex(e){return"#"+e.toString(16).toUpperCase()},HSLtoHEX(e,s,n){n/=100;const f=s*Math.min(n,1-n)/100,d=function(t){const r=(t+e/30)%12,a=n-f*Math.max(Math.min(r-3,9-r,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return`#${d(0)}${d(8)}${d(4)}`}},{FormText:G,FormSection:_,FormInput:D,FormRow:T}=R.Forms,{Button:M,View:S,TouchableOpacity:H,Image:x}=R.General;i.findByProps("show","confirm","close");const I=i.findByName("CustomColorPickerActionSheet"),O=function(e){let{entry:s,index:n,colorEntries:f}=e;const[d,t]=o.React.useState(s.userId);return o.React.createElement(N,{mkey:"edit-userid-modal",title:"Edit User ID"},o.React.createElement(S,{style:{padding:16}},o.React.createElement(D,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:d,onChange:t,style:{marginBottom:16}}),o.React.createElement(M,{title:"Save",onPress:function(){if(!d){c.toasts.showToast("Please enter a valid User ID");return}const r=[...f];r[n]={...s,userId:d},l.storage.colors={entries:r},c.toasts.showToast("User ID updated!"),w("edit-userid-modal")}})))};function L(){const e=l.storage.colors?.entries||[],[s,n]=o.React.useState(""),f=function(t,r){k({key:"CardOverflow",header:{title:`User ID: ${t.userId}`},options:[{label:"Modify User ID",onPress:function(){A("edit-userid-modal",{render:function(){return o.React.createElement(O,{entry:t,index:r,colorEntries:e})}})}},{label:"Modify Color",onPress:function(){C(I,{color:h.toInt(t.color),title:"Select Color",onSelect:function(a){const g=h.toHex(a),u=[...e];u[r]={...t,color:g},l.storage.colors={entries:u},c.toasts.showToast("Color updated!")}})}},{label:"Delete",isDestructive:!0,onPress:function(){const a=e.filter(function(g,u){return u!==r});l.storage.colors={entries:a},c.toasts.showToast("Color entry removed!")}},{label:"Cancel"}]})},d=function(){C(I,{color:h.toInt("#000000"),title:"Select Color",onSelect:function(t){if(!s){c.toasts.showToast("Please enter a valid User ID");return}const r=h.toHex(t),a=l.storage.colors?.entries||[];a.push({userId:s,color:r}),l.storage.colors={entries:a},n(""),c.toasts.showToast("Color entry added!")},header:o.React.createElement(S,{style:{padding:16,paddingBottom:0}},o.React.createElement(D,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:s,onChange:function(t){return n(t)}}))})};return o.React.createElement(o.React.Fragment,null,e.map(function(t,r){return o.React.createElement(T,{key:r,label:`User ID: ${t.userId}`,subLabel:"Tap to change color",onPress:function(){C(I,{color:h.toInt(t.color),title:"Select Color",onSelect:function(a){const g=h.toHex(a),u=[...e];u[r]={...t,color:g},l.storage.colors={entries:u},c.toasts.showToast("Color updated!")}})},onLongPress:function(){return f(t,r)},trailing:o.React.createElement(S,{style:{width:24,height:24,borderRadius:12,backgroundColor:t.color,borderWidth:1,borderColor:c.semanticColors.BACKGROUND_SECONDARY}})})}),o.React.createElement(H,{style:E.fab,onPress:d},o.React.createElement(x,{source:m.getAssetIDByName("ic_add_24px"),style:E.fabIcon})))}const E=o.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:c.semanticColors.BACKGROUND_SECONDARY,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:"white"}});var F={onLoad:function(){l.storage.colors=l.storage.colors??{entries:[]},p.logger.log("Hello world!")},onUnload:function(){p.logger.log("Goodbye, world.")},settings:L};return y.default=F,Object.defineProperty(y,"__esModule",{value:!0}),y})({},vendetta,vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.utils,vendetta.ui.toasts);
