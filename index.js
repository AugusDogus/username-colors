(function(y,C,c,i,t,s,w,b,P,T){"use strict";const{showSimpleActionSheet:N}=i.findByProps("showSimpleActionSheet"),I=i.findByProps("getRenderCloseButton")?.getRenderCloseButton??i.findByProps("getHeaderCloseButton")?.getHeaderCloseButton,E=i.findByName("Navigator")??i.findByProps("Navigator")?.Navigator,{popModal:v,pushModal:U}=i.findByProps("popModal","pushModal");function A(e){return!E||!I?null:React.createElement(E,{initialRouteName:e.mkey,screens:{[e.mkey]:Object.assign(P.without(e,"mkey","children"),{headerLeft:I?.(function(){return v(e.mkey)}),render:function(){return e.children}})}})}const{openLazy:k,hideActionSheet:F}=i.findByProps("openLazy","hideActionSheet");function p(e,a){try{k(new Promise(function(n){return n({default:e})}),"ActionSheet",a)}catch(n){C.logger.error(n.stack),T.showToast("Got error when opening ActionSheet! Please check debug logs")}}const h={toInt(e){return e=e.replace(/^#/,""),parseInt(e,16)},toHex(e){return"#"+e.toString(16).toUpperCase()},HSLtoHEX(e,a,n){n/=100;const f=a*Math.min(n,1-n)/100,d=function(o){const r=(o+e/30)%12,l=n-f*Math.max(Math.min(r-3,9-r,1),-1);return Math.round(255*l).toString(16).padStart(2,"0")};return`#${d(0)}${d(8)}${d(4)}`}},{FormText:G,FormSection:O,FormInput:B,FormRow:D}=b.Forms,{Button:M,View:S,TouchableOpacity:x,Image:H}=b.General;i.findByProps("show","confirm","close");const R=i.findByName("CustomColorPickerActionSheet"),L=function(e){let{entry:a,index:n,colorEntries:f}=e;const[d,o]=t.React.useState(a.userId);return t.React.createElement(A,{mkey:"edit-userid-modal",title:"Edit User ID"},t.React.createElement(S,{style:{padding:16}},t.React.createElement(B,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:d,onChange:o,style:{marginBottom:16}}),t.React.createElement(M,{text:"Save",onPress:function(){if(!d){s.toasts.showToast("Please enter a valid User ID");return}const r=[...f];r[n]={...a,userId:d},c.storage.colors={entries:r},s.toasts.showToast("User ID updated!"),v("edit-userid-modal")}})))};function _(){const e=c.storage.colors?.entries||[],[a,n]=t.React.useState(""),f=function(o,r){N({key:"CardOverflow",header:{title:`User ID: ${o.userId}`},options:[{label:"Modify User ID",onPress:function(){U("edit-userid-modal",{render:function(){return t.React.createElement(L,{entry:o,index:r,colorEntries:e})}})}},{label:"Modify Color",onPress:function(){p(R,{color:h.toInt(o.color),title:"Select Color",onSelect:function(l){const g=h.toHex(l),u=[...e];u[r]={...o,color:g},c.storage.colors={entries:u},s.toasts.showToast("Color updated!")}})}},{label:"Delete",isDestructive:!0,onPress:function(){const l=e.filter(function(g,u){return u!==r});c.storage.colors={entries:l},s.toasts.showToast("Color entry removed!")}},{label:"Cancel"}]})},d=function(){p(R,{color:h.toInt("#000000"),title:"Select Color",onSelect:function(o){if(!a){s.toasts.showToast("Please enter a valid User ID");return}const r=h.toHex(o),l=c.storage.colors?.entries||[];l.push({userId:a,color:r}),c.storage.colors={entries:l},n(""),s.toasts.showToast("Color entry added!")},header:t.React.createElement(S,{style:{padding:16,paddingBottom:0}},t.React.createElement(B,{title:"Discord User ID",placeholder:"Enter the user's Discord ID",value:a,onChange:function(o){return n(o)}}))})};return t.React.createElement(t.React.Fragment,null,t.React.createElement(O,{title:"Custom Colors"},e.map(function(o,r){return t.React.createElement(D,{key:r,label:`User ID: ${o.userId}`,subLabel:"Tap to change color",onPress:function(){p(R,{color:h.toInt(o.color),title:"Select Color",onSelect:function(l){const g=h.toHex(l),u=[...e];u[r]={...o,color:g},c.storage.colors={entries:u},s.toasts.showToast("Color updated!")}})},onLongPress:function(){return f(o,r)},trailing:t.React.createElement(S,{style:{width:24,height:24,borderRadius:12,backgroundColor:o.color,borderWidth:1,borderColor:s.semanticColors.BACKGROUND_SECONDARY}})})}),e.length===0&&t.React.createElement(D,{label:"No Colors Set",subLabel:"Use the + button to add a custom color"})),t.React.createElement(x,{style:m.fab,onPress:d},t.React.createElement(H,{source:w.getAssetIDByName("ic_add_24px"),style:m.fabIcon})))}const m=t.stylesheet.createThemedStyleSheet({fab:{position:"absolute",bottom:20,right:20,backgroundColor:s.semanticColors.BUTTON_SECONDARY_BACKGROUND,borderRadius:50,width:56,height:56,justifyContent:"center",alignItems:"center",elevation:6},fabIcon:{width:24,height:24,tintColor:s.semanticColors.BUTTON_SECONDARY_TEXT}});var $={onLoad:function(){c.storage.colors=c.storage.colors??{entries:[]},C.logger.log("Hello world!")},onUnload:function(){C.logger.log("Goodbye, world.")},settings:_};return y.default=$,Object.defineProperty(y,"__esModule",{value:!0}),y})({},vendetta,vendetta.plugin,vendetta.metro,vendetta.metro.common,vendetta.ui,vendetta.ui.assets,vendetta.ui.components,vendetta.utils,vendetta.ui.toasts);
